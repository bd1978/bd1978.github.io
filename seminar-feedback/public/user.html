<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Seminar feedback service"/>

    <title>Admin Page</title>

    <link rel="stylesheet" href="./css/jquery.mobile-1.3.2.css"/>
    <script type="text/javascript" src="./js/jquery-1.9.1.js"></script>
    <script type="text/javascript" src="./js/jquery.mobile-1.3.2.js"></script>
    <script type="text/javascript" src="./js/main.js"></script>
	<script type="text/javascript" src="./js/rest.js"></script>
    <link rel="stylesheet" href="css/style.css" />
	<script type="text/javascript">
		function testGetUserList() {
			var adminNameVal = $('#adminName').val();
			var adminPasswordVal = $('#adminPassword').val();

			rest.get(
				baseURL + '/users', 
				null, 
				{adminName:adminNameVal,adminPassword:adminPasswordVal},
				function(data, xhr) { 
					printOutput(data);
				},
				function(data, xhr) { 
					printOutput(data);
				}
			);
		}
		
		function testGetUser() {
			var adminNameVal = $('#adminName').val();
			var adminPasswordVal = $('#adminPassword').val();
			var userIdVal = $('#userId').val();

			rest.get(
				baseURL + '/users/' + userIdVal, 
				null, 
				{adminName:adminNameVal,adminPassword:adminPasswordVal},
				function(data, xhr) { 
					printOutput(data);
				},
				function(data, xhr) { 
					printOutput(data);
				}
			);
		}
		
		function testAddUser() {
			var adminNameVal = $('#adminName').val();
			var adminPasswordVal = $('#adminPassword').val();
			var userIdVal = $('#userId').val();
	        var nameVal = $('#userName').val();
	        var passwordVal = $('#userPassword').val();
	        
			rest.post(
				baseURL + '/users', 
				null,
				{adminName:adminNameVal,adminPassword:adminPasswordVal,name:nameVal,password:passwordVal,userId:userIdVal},
				function(data, xhr) { 
					printOutput(data);
				},
				function(data, xhr) { 
					printOutput(data);
				}
			);
		}
		
		function testDeleteUser() {
			var adminNameVal = $('#adminName').val();
			var adminPasswordVal = $('#adminPassword').val();
			var userIdVal = $('#userId').val();

			rest.del(
				baseURL + '/users/' + userIdVal, 
				null, 
				{adminName:adminNameVal,adminPassword:adminPasswordVal},
				function(data, xhr) { 
					printOutput(data);
				},
				function(data, xhr) { 
					printOutput(data);
				}
			);
		}
		
		function printOutput(jsonData) {
			$('#output').text(null);
			var jsonStr = JSON.stringify(jsonData);
			$('#output').text(jsonStr);
		}
	</script>
</head>

<body>
    <!-- Start of user page: #user -->
    <div data-role="page" id="user">
        <div data-role="header" data-tap-toggle="false" >
            <a href="javascript:goHome()" data-role="button" data-icon="home">Home</a><h1>User Management</h1>
        </div><!-- /header -->

        <div data-role="content" >
            <div data-role="navbar">
                <ul>
                    <li><a href="user.html" class="ui-btn-active ui-state-persist">User</a></li>
                    <li><a href="seminar.html">Seminar</a></li>
                    <li><a href="feedback.html">Feedback</a></li>
                </ul>
            </div><!-- /navbar -->

			<hr>
			<table align="center" style="width:100%; padding: 0px; border: 0px; margin: 0px;">
				<tr>
					<td width="25%"><button id="getList" onclick="testGetUserList();">GET LIST</button></td>
					<td width="25%"><button id="get" onclick="testGetUser();">GET</button></td>
					<td width="25%"><button id="post" onclick="testAddUser();">POST</button></td>
					<td width="25%"><button id="del" onclick="testDeleteUser();">DELETE</button></td>
				</tr>
			</table>
			
			<h1>input</h1>
			<table align="center" style="width:100%; padding: 0px; border: 0px; margin: 0px;">
				<tr>
					<td width="150">Admin Name :</td>
					<td><input id="adminName" value="박대룡" placeholder="Admin name"/></td>					
				</tr>
				<tr>
					<td width="150">Admin Password :</td>
					<td><input type="password" id="adminPassword" value="" placeholder="Admin password"/></td>					
				</tr>
				<tr>
					<td width="150">User ID :</td>
					<td><input id="userId" value="999" placeholder="User ID"/></td>					
				</tr>
				<tr>
					<td width="150">User Name :</td>
					<td><input id="userName" value="클라라" placeholder="User name"/></td>					
				</tr>
				<tr>
					<td width="150">User Password :</td>
					<td><input id="userPassword" value="1111" placeholder="User password"/></td>					
				</tr>
			</table>
			
			<h1>output</h1>
			<textarea id="output" readonly="readonly" cols="100" rows="20" style="min-height: 200px"></textarea>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false" >
            <h4>Copyright © 2014. S-Core, All Rights Reserved</h4>
        </div><!-- /footer -->
    </div><!-- /page user -->

</body>
</html>

